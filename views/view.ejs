

<!DOCTYPE html>
<html lang="en">

<head>
    <title>WEATHER PROJ</title>
<head>
    <title>WEATHER PROJ</title>
    <style>
        .navList {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #555;
        }
        .navblock {
            float: left;
        }
        .navlink {
            display: block;
            color: lightcyan;
            text-align: center;
            padding: 10px 30px;
        }
        .navlink:hover {
            background-color: #777;
        }

        body {
            background: #dbdbdb;
            height: 400px;
            font-size: 20px;
        }
        p {
            font-family: Arial;
        }
        ul {
            list-style-type: circle;
        }
        h1{
            display: inline;
            padding-right: 30px;
        }

        input {
            margin: 10px;
        }
        button {
            display:inline-block;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#3369ff;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            margin-top: 10px;
        }

        tr:nth-child(even){background-color: #f2f2f2;}
        tr:nth-child(odd){background-color: #e4e4e4;}
        th{background-color: #d5d5d5;}
        }table, th, td {
             border: 1px solid black;
         }

    </style>
</head>

<body>
    <div class="section1">
              <header>
                  <ul class="navList">
                      <li class="navblock"><a href="/login" class="navlink">Login</a></li>
                      <li class="navblock"><a href="/signUp" class="navlink">SignUp</a></li>
                      <li class="navblock"><a href="/home/<%= user%>" class="navlink">Home</a></li>
                      <li class="navblock"><a href="/setPreferences/<%= user%>" class="navlink">Set Preferences</a></li>
                      <li class="navblock"><a href="/addLocation/<%= user%>" class="navlink">Add Location</a></li>
                      <li class="navblock"><a href="/home/views/<%= user%>" class="navlink">View Locations</a></li>
                      <li class="navblock"><a href="/setNotices/<%= user%>" class="navlink">Notification Settings</a></li>
                  </ul>
              </header>
          </div>
    <br><h1> LOCATION LIST</h1>Logged in as: <%= user%>

    <br>
    <br>
    <br>
    Your Locations
    <br>
    <br>
    <table border="1">
                      <tr>
                          <th>Name</th>
                          <th>Lat</th>
                          <th>Long</th>
                          <th>Temperature</th>
                          <th>Precipitation</th>
                          <th>Wind</th>
                          <th>Viability</th>
                      </tr>

                      <%
                      var numGood = 0;
                      let good = []
                      if(rows.length!=0){
                      var i=1;
                      rows.forEach(function(data){
                        console.log(windmax);
                        console.log(data.wind);
                        console.log( (parseInt(String(data.wind))) >(parseInt(String(windmax))));
                      if(
                        (data.temperature > low)
                         && (data.temperature < high)
                          && parseInt(String(data.wind)) < parseInt(String(windmax))
                          && parseInt(String(data.precip)) < parseInt(String(precipmax))
                                          ){
                                          numGood++;
                                          good[good.length] = data.name
                      %>
                      <%
                      %>
                      <tr>
                          <td><%=data.name %></td>
                          <td><%=data.latitude %></td>
                          <td><%=data.longitude %></td>
                          <td><%=data.temperature %></td>
                          <td><%=data.precip %></td>
                          <td><%=data.wind %></td>
                          <td>Good Weather</td>
                      </tr>

                      <%
                      }else{
                      %>
                      <tr>
                          <td><%=data.name %></td>
                          <td><%=data.latitude %></td>
                          <td><%=data.longitude %></td>
                          <td><%=data.temperature %></td>
                          <td><%=data.precip %></td>
                          <td><%=data.wind %></td>
                          <td>Bad Weather</td>
                      </tr>
                      <%
                      } i++; }) %>
                      <% } else{ %>
                          <tr>
                              <td colspan="7">No Data Found</td>
                          </tr>
                      <% } %>
                  </table>
    <br>
    <br>
      <button onclick="
           window.location.href= '/home/'
           + '<%= user%>' + '/';
           ">BACK
    </button>

</body>

</html>